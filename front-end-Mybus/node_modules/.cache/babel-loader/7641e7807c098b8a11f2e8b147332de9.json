{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Dropbox/Mac/Downloads/Mybus-master/front-end-Mybus/src/Components/SelectBus/Right.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport styles from \"./Right.module.css\";\nimport { BusBox } from \"../BusDetails/BusBox/BusBox\";\nimport { SortingBar } from \"../BusDetails/SortingBar/SortingBar\";\nimport { useLocation } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getBusDetails } from \"../../Redux/BookBus/action\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Right = () => {\n  _s();\n\n  let {\n    search\n  } = useLocation();\n  const query = new URLSearchParams(search);\n  const departure = query.get(\"departure\");\n  const arrival = query.get(\"arrival\");\n  const date = query.get(\"date\");\n  const isLoading = useSelector(state => state.busDetailsReducer.isLoading);\n  const isError = useSelector(state => state.busDetailsReducer.isError);\n  const isSuccess = useSelector(state => state.busDetailsReducer.isSuccess);\n  const routeDetails = useSelector(state => state.busDetailsReducer.routeDetails);\n  const matchedBuses = useSelector(state => state.busDetailsReducer.matchedBuses);\n  const busIdWithSeatsObj = useSelector(state => state.busDetailsReducer.busIdWithSeatsObj);\n  const dispatch = useDispatch();\n  React.useEffect(() => {\n    dispatch(getBusDetails(departure, arrival, date));\n  }, [arrival, date, departure, dispatch]);\n  var filteredMatchedBuses = [...matchedBuses]; //checking and filtering seat type\n\n  const checkBusType = useSelector(state => state.updateFilterDetailsReducer.busType);\n\n  if (checkBusType[\"seater\"] === false && checkBusType[\"sleeper\"] === false && checkBusType[\"ac\"] === false && checkBusType[\"nonac\"] === false) {} else {\n    filteredMatchedBuses = filteredMatchedBuses.filter(item => {\n      return checkBusType[\"seater\"] === true && item.busType === 1 || checkBusType[\"sleeper\"] === true && item.busType === 2 || checkBusType[\"ac\"] === true && item.busType === 3 || checkBusType[\"nonac\"] === true && item.busType === 4;\n    });\n  } //checking and filtering depature time\n\n\n  const checkDepartTime = useSelector(state => state.updateFilterDetailsReducer.departureTime);\n\n  if (checkDepartTime[\"before6am\"] === false && checkDepartTime[\"6amto12pm\"] === false && checkDepartTime[\"12pmto6pm\"] === false && checkDepartTime[\"after6pm\"] === false) {} else {\n    filteredMatchedBuses = filteredMatchedBuses.filter(item => {\n      return checkDepartTime[\"before6am\"] === true && item.departureTime < 6 || checkDepartTime[\"6amto12pm\"] === true && item.departureTime >= 6 && item.departureTime < 12 || checkDepartTime[\"12pmto6pm\"] === true && item.departureTime >= 12 && item.departureTime < 18 || checkDepartTime[\"after6pm\"] === true && item.departureTime >= 18;\n    });\n  } //checking and filtering arrival time\n\n\n  const checkArrivalTime = useSelector(state => state.updateFilterDetailsReducer.arrivalTime);\n\n  if (checkArrivalTime[\"before6am\"] === false && checkArrivalTime[\"6amto12pm\"] === false && checkArrivalTime[\"12pmto6pm\"] === false && checkArrivalTime[\"after6pm\"] === false) {} else {\n    filteredMatchedBuses = filteredMatchedBuses.filter(item => {\n      var arriveTime = (Number(item.departureTime) + Number(routeDetails[\"duration\"])) % 24;\n      return checkArrivalTime[\"before6am\"] === true && arriveTime < 6 || checkArrivalTime[\"6amto12pm\"] === true && arriveTime >= 6 && arriveTime < 12 || checkArrivalTime[\"12pmto6pm\"] === true && arriveTime >= 12 && arriveTime < 18 || checkArrivalTime[\"after6pm\"] === true && arriveTime >= 18;\n    });\n  } //filtering Live Tracking Buses\n\n\n  const checkLiveTracking = useSelector(state => state.updateFilterDetailsReducer.liveTracking);\n\n  if (checkLiveTracking === true) {\n    filteredMatchedBuses = filteredMatchedBuses.filter(item => item.liveTracking === 1);\n  } //filtering Reschedulable buses\n\n\n  const checkReschedulable = useSelector(state => state.updateFilterDetailsReducer.reschedulable);\n\n  if (checkReschedulable === true) {\n    filteredMatchedBuses = filteredMatchedBuses.filter(item => item.reschedulable === 1);\n  } //sorting buses list..\n\n\n  const sortingProperty = useSelector(state => state.updateFilterDetailsReducer.sortingProperty);\n\n  if (sortingProperty !== \"None\") {\n    console.log(sortingProperty);\n\n    if (sortingProperty === \"departure\") {\n      filteredMatchedBuses.sort((a, b) => Number(a.departureTime) - Number(b.departureTime));\n    }\n\n    if (sortingProperty === \"arrivals\") {\n      filteredMatchedBuses.sort((a, b) => {\n        var arriveTime1 = (Number(a.departureTime) + Number(routeDetails[\"duration\"])) % 24;\n        var arriveTime2 = (Number(b.departureTime) + Number(routeDetails[\"duration\"])) % 24;\n        return arriveTime1 - arriveTime2;\n      });\n    }\n\n    if (sortingProperty === \"ratings\") {\n      filteredMatchedBuses.sort((a, b) => {\n        var ratingArr1 = a[\"rating\"];\n        var ratingArr2 = b[\"rating\"];\n        var avgRating1 = 0;\n        var totalReviews1 = 0;\n        ratingArr1.forEach((item, index) => {\n          avgRating1 += (index + 1) * item;\n          totalReviews1 += item;\n        });\n        avgRating1 = Number((avgRating1 / totalReviews1).toFixed(1));\n        var avgRating2 = 0;\n        var totalReviews2 = 0;\n        ratingArr2.forEach((item, index) => {\n          avgRating2 += (index + 1) * item;\n          totalReviews2 += item;\n        });\n        avgRating2 = Number((avgRating2 / totalReviews2).toFixed(1));\n        return avgRating1 - avgRating2;\n      });\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.Right,\n    children: [/*#__PURE__*/_jsxDEV(SortingBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 21\n    }, this), isError && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Something went wrong\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 19\n    }, this), isSuccess && filteredMatchedBuses.length === 0 && /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"No Bus Found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 58\n    }, this), isSuccess && filteredMatchedBuses.map(item => {\n      return /*#__PURE__*/_jsxDEV(BusBox, { ...item,\n        filledSeats: busIdWithSeatsObj[item._id.toString()],\n        routeDetails: routeDetails\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 13\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Right, \"2BTjH5sJ8zMCZJxm7QfbyRAxx4g=\", false, function () {\n  return [useLocation, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = Right;\nexport default Right;\n\nvar _c;\n\n$RefreshReg$(_c, \"Right\");","map":{"version":3,"sources":["/Users/mac/Dropbox/Mac/Downloads/Mybus-master/front-end-Mybus/src/Components/SelectBus/Right.jsx"],"names":["React","styles","BusBox","SortingBar","useLocation","useSelector","useDispatch","getBusDetails","Right","search","query","URLSearchParams","departure","get","arrival","date","isLoading","state","busDetailsReducer","isError","isSuccess","routeDetails","matchedBuses","busIdWithSeatsObj","dispatch","useEffect","filteredMatchedBuses","checkBusType","updateFilterDetailsReducer","busType","filter","item","checkDepartTime","departureTime","checkArrivalTime","arrivalTime","arriveTime","Number","checkLiveTracking","liveTracking","checkReschedulable","reschedulable","sortingProperty","console","log","sort","a","b","arriveTime1","arriveTime2","ratingArr1","ratingArr2","avgRating1","totalReviews1","forEach","index","toFixed","avgRating2","totalReviews2","length","map","_id","toString"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport styles from \"./Right.module.css\";\nimport { BusBox } from \"../BusDetails/BusBox/BusBox\";\nimport { SortingBar } from \"../BusDetails/SortingBar/SortingBar\";\nimport { useLocation } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getBusDetails } from \"../../Redux/BookBus/action\";\n\nconst Right = () => {\n  let { search } = useLocation();\n  const query = new URLSearchParams(search);\n  const departure = query.get(\"departure\");\n  const arrival = query.get(\"arrival\");\n  const date = query.get(\"date\");\n\n  const isLoading = useSelector((state) => state.busDetailsReducer.isLoading);\n  const isError = useSelector((state) => state.busDetailsReducer.isError);\n  const isSuccess = useSelector((state) => state.busDetailsReducer.isSuccess);\n  const routeDetails = useSelector(\n    (state) => state.busDetailsReducer.routeDetails\n  );\n  const matchedBuses = useSelector(\n    (state) => state.busDetailsReducer.matchedBuses\n  );\n  const busIdWithSeatsObj = useSelector(\n    (state) => state.busDetailsReducer.busIdWithSeatsObj\n  );\n\n  const dispatch = useDispatch();\n  React.useEffect(() => {\n    dispatch(getBusDetails(departure, arrival, date));\n  }, [arrival , date , departure ,dispatch]);\n\n  var filteredMatchedBuses = [...matchedBuses];\n\n  //checking and filtering seat type\n  const checkBusType = useSelector(\n    (state) => state.updateFilterDetailsReducer.busType\n  );\n\n  if (\n    checkBusType[\"seater\"] === false &&\n    checkBusType[\"sleeper\"] === false &&\n    checkBusType[\"ac\"] === false &&\n    checkBusType[\"nonac\"] === false\n  ) {\n  } else {\n    filteredMatchedBuses = filteredMatchedBuses.filter((item) => {\n      return (\n        (checkBusType[\"seater\"] === true && item.busType === 1) ||\n        (checkBusType[\"sleeper\"] === true && item.busType === 2) ||\n        (checkBusType[\"ac\"] === true && item.busType === 3) ||\n        (checkBusType[\"nonac\"] === true && item.busType === 4)\n      );\n    });\n  }\n\n  //checking and filtering depature time\n\n  const checkDepartTime = useSelector(\n    (state) => state.updateFilterDetailsReducer.departureTime\n  );\n\n  if (\n    checkDepartTime[\"before6am\"] === false &&\n    checkDepartTime[\"6amto12pm\"] === false &&\n    checkDepartTime[\"12pmto6pm\"] === false &&\n    checkDepartTime[\"after6pm\"] === false\n  ) {\n  } else {\n    filteredMatchedBuses = filteredMatchedBuses.filter((item) => {\n      return (\n        (checkDepartTime[\"before6am\"] === true && item.departureTime < 6) ||\n        (checkDepartTime[\"6amto12pm\"] === true &&\n          item.departureTime >= 6 &&\n          item.departureTime < 12) ||\n        (checkDepartTime[\"12pmto6pm\"] === true &&\n          item.departureTime >= 12 &&\n          item.departureTime < 18) ||\n        (checkDepartTime[\"after6pm\"] === true && item.departureTime >= 18)\n      );\n    });\n  }\n\n  //checking and filtering arrival time\n\n  const checkArrivalTime = useSelector(\n    (state) => state.updateFilterDetailsReducer.arrivalTime\n  );\n\n  if (\n    checkArrivalTime[\"before6am\"] === false &&\n    checkArrivalTime[\"6amto12pm\"] === false &&\n    checkArrivalTime[\"12pmto6pm\"] === false &&\n    checkArrivalTime[\"after6pm\"] === false\n  ) {\n  } else {\n    filteredMatchedBuses = filteredMatchedBuses.filter((item) => {\n      var arriveTime =\n        (Number(item.departureTime) + Number(routeDetails[\"duration\"])) % 24;\n      return (\n        (checkArrivalTime[\"before6am\"] === true && arriveTime < 6) ||\n        (checkArrivalTime[\"6amto12pm\"] === true &&\n          arriveTime >= 6 &&\n          arriveTime < 12) ||\n        (checkArrivalTime[\"12pmto6pm\"] === true &&\n          arriveTime >= 12 &&\n          arriveTime < 18) ||\n        (checkArrivalTime[\"after6pm\"] === true && arriveTime >= 18)\n      );\n    });\n  }\n\n  //filtering Live Tracking Buses\n  const checkLiveTracking = useSelector(\n    (state) => state.updateFilterDetailsReducer.liveTracking\n  );\n\n  if (checkLiveTracking === true) {\n    filteredMatchedBuses = filteredMatchedBuses.filter(\n      (item) => item.liveTracking === 1\n    );\n  }\n\n  //filtering Reschedulable buses\n\n  const checkReschedulable = useSelector(\n    (state) => state.updateFilterDetailsReducer.reschedulable\n  );\n\n  if (checkReschedulable === true) {\n    filteredMatchedBuses = filteredMatchedBuses.filter(\n      (item) => item.reschedulable === 1\n    );\n  }\n\n  //sorting buses list..\n\n  const sortingProperty = useSelector(\n    (state) => state.updateFilterDetailsReducer.sortingProperty\n  );\n\n  if (sortingProperty !== \"None\") {\n    console.log(sortingProperty);\n    if (sortingProperty === \"departure\") {\n      filteredMatchedBuses.sort(\n        (a, b) => Number(a.departureTime) - Number(b.departureTime)\n      );\n    }\n\n    if (sortingProperty === \"arrivals\") {\n      filteredMatchedBuses.sort((a, b) => {\n        var arriveTime1 =\n          (Number(a.departureTime) + Number(routeDetails[\"duration\"])) % 24;\n\n        var arriveTime2 =\n          (Number(b.departureTime) + Number(routeDetails[\"duration\"])) % 24;\n\n        return arriveTime1 - arriveTime2;\n      });\n    }\n\n    if (sortingProperty === \"ratings\") {\n      filteredMatchedBuses.sort((a, b) => {\n        var ratingArr1 = a[\"rating\"];\n        var ratingArr2 = b[\"rating\"];\n\n        var avgRating1 = 0;\n        var totalReviews1 = 0;\n        ratingArr1.forEach((item, index) => {\n          avgRating1 += (index + 1) * item;\n          totalReviews1 += item;\n        });\n\n        avgRating1 = Number((avgRating1 / totalReviews1).toFixed(1));\n\n        var avgRating2 = 0;\n        var totalReviews2 = 0;\n        ratingArr2.forEach((item, index) => {\n          avgRating2 += (index + 1) * item;\n          totalReviews2 += item;\n        });\n\n        avgRating2 = Number((avgRating2 / totalReviews2).toFixed(1));\n\n        return avgRating1 - avgRating2;\n      });\n    }\n  }\n\n  return (\n    <div className={styles.Right}>\n      <SortingBar />\n      {isLoading && <div>Loading...</div>}\n      {isError && <div>Something went wrong</div>}\n\n      {isSuccess && filteredMatchedBuses.length === 0 && <h1>No Bus Found.</h1>}\n\n      {isSuccess &&\n        filteredMatchedBuses.map((item) => {\n          return (\n            <BusBox\n              {...item}\n              filledSeats={busIdWithSeatsObj[item._id.toString()]}\n              routeDetails={routeDetails}\n            />\n          );\n        })}\n    </div>\n  );\n};\n\nexport default Right;\n"]},"metadata":{},"sourceType":"module"}