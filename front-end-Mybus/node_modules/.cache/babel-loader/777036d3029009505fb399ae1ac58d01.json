{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Dropbox/Mac/Downloads/redbus-master/front-end-redbus/src/Components/Profile Page/MyTrips.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport styles from \"./MyTrips.module.css\";\nimport SingleTrip from \"./SingleTrip\";\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MyTrips = () => {\n  _s();\n\n  const [allBookings, setAllBookings] = React.useState([]);\n  const currentCustomer = useSelector(state => state.authReducer.currentCustomer);\n  React.useEffect(() => {\n    if (currentCustomer) {\n      let id = currentCustomer._id;\n      console.log(\"current customer id: \", id);\n      fetchData(id);\n    }\n  }, [currentCustomer]);\n\n  async function fetchData(id) {\n    let res = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/v1/api/booking/${id}`);\n    console.log(\"all bookings of this customer: \", res.data);\n    setAllBookings(res.data);\n  }\n\n  const renderTripBookings = () => {\n    if (allBookings.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"No Bookings Found!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 14\n      }, this);\n    }\n\n    return allBookings.reverse().map(booking => /*#__PURE__*/_jsxDEV(SingleTrip, {\n      booking: booking\n    }, uuidv4(), false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 25\n    }, this));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.MyTrips,\n    children: renderTripBookings()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 10\n  }, this);\n};\n\n_s(MyTrips, \"D7fW7cNJsMOwr+M79hQmhDdi8C8=\", false, function () {\n  return [useSelector];\n});\n\n_c = MyTrips;\nexport default MyTrips;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyTrips\");","map":{"version":3,"sources":["/Users/mac/Dropbox/Mac/Downloads/redbus-master/front-end-redbus/src/Components/Profile Page/MyTrips.jsx"],"names":["React","styles","SingleTrip","axios","useSelector","v4","uuidv4","MyTrips","allBookings","setAllBookings","useState","currentCustomer","state","authReducer","useEffect","id","_id","console","log","fetchData","res","get","process","env","REACT_APP_BACKEND_URL","data","renderTripBookings","length","reverse","map","booking"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,EAAE,IAAIC,MAAf,QAA6B,MAA7B;;;AACA,MAAMC,OAAO,GAAG,MAAM;AAAA;;AACpB,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCT,KAAK,CAACU,QAAN,CAAe,EAAf,CAAtC;AAEA,QAAMC,eAAe,GAAGP,WAAW,CAChCQ,KAAD,IAAWA,KAAK,CAACC,WAAN,CAAkBF,eADI,CAAnC;AAIAX,EAAAA,KAAK,CAACc,SAAN,CAAgB,MAAM;AACpB,QAAIH,eAAJ,EAAqB;AACnB,UAAII,EAAE,GAAGJ,eAAe,CAACK,GAAzB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCH,EAArC;AACAI,MAAAA,SAAS,CAACJ,EAAD,CAAT;AACD;AACF,GAND,EAMG,CAACJ,eAAD,CANH;;AAQA,iBAAeQ,SAAf,CAAyBJ,EAAzB,EAA6B;AAC3B,QAAIK,GAAG,GAAG,MAAMjB,KAAK,CAACkB,GAAN,CACb,GAAEC,OAAO,CAACC,GAAR,CAAYC,qBAAsB,mBAAkBT,EAAG,EAD5C,CAAhB;AAGAE,IAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAA+CE,GAAG,CAACK,IAAnD;AACAhB,IAAAA,cAAc,CAACW,GAAG,CAACK,IAAL,CAAd;AACD;;AAED,QAAMC,kBAAkB,GAAG,MAAM;AAC/B,QAAIlB,WAAW,CAACmB,MAAZ,KAAuB,CAA3B,EAA8B;AAC5B,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACD;;AACD,WAAOnB,WAAW,CACfoB,OADI,GAEJC,GAFI,CAECC,OAAD,iBAAa,QAAC,UAAD;AAA2B,MAAA,OAAO,EAAEA;AAApC,OAAiBxB,MAAM,EAAvB;AAAA;AAAA;AAAA;AAAA,YAFb,CAAP;AAGD,GAPD;;AAQA,sBAAO;AAAK,IAAA,SAAS,EAAEL,MAAM,CAACM,OAAvB;AAAA,cAAiCmB,kBAAkB;AAAnD;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CAhCD;;GAAMnB,O;UAGoBH,W;;;KAHpBG,O;AAkCN,eAAeA,OAAf","sourcesContent":["import React from \"react\";\nimport styles from \"./MyTrips.module.css\";\nimport SingleTrip from \"./SingleTrip\";\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport { v4 as uuidv4 } from \"uuid\";\nconst MyTrips = () => {\n  const [allBookings, setAllBookings] = React.useState([]);\n\n  const currentCustomer = useSelector(\n    (state) => state.authReducer.currentCustomer\n  );\n\n  React.useEffect(() => {\n    if (currentCustomer) {\n      let id = currentCustomer._id;\n      console.log(\"current customer id: \", id);\n      fetchData(id);\n    }\n  }, [currentCustomer]);\n\n  async function fetchData(id) {\n    let res = await axios.get(\n      `${process.env.REACT_APP_BACKEND_URL}/v1/api/booking/${id}`\n    );\n    console.log(\"all bookings of this customer: \", res.data);\n    setAllBookings(res.data);\n  }\n\n  const renderTripBookings = () => {\n    if (allBookings.length === 0) {\n      return <h1>No Bookings Found!</h1>;\n    }\n    return allBookings\n      .reverse()\n      .map((booking) => <SingleTrip key={uuidv4()} booking={booking} />);\n  };\n  return <div className={styles.MyTrips}>{renderTripBookings()}</div>;\n};\n\nexport default MyTrips;\n"]},"metadata":{},"sourceType":"module"}