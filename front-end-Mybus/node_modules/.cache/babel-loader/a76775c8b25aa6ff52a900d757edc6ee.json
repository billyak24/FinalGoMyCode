{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Dropbox/Mac/Downloads/redbus-master/front-end-Mybus/src/Components/LandingPage/LandingPage.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Services from \"./Benefits/Services\";\nimport BusTracker from \"./BusTracker/BusTracker\";\nimport Coupon from \"./CouponSection/Coupon\";\nimport Safety from \"./SafetySection/Safety\";\nimport styles from \"./LandingPage.module.css\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getRoutes } from \"../../Redux/routes/action\";\nimport Awards from \"./Awards and Recognition/Awards\";\nimport GlobalPresence from \"./Global Presence/GlobalPresence\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport RoutesModal from \"./RoutesModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3)\n  }\n}));\n\nconst LandingPage = () => {\n  _s();\n\n  //modal items\n  const classes = useStyles();\n  const [openModal, setOpenModal] = React.useState(false);\n\n  const handleOpenModal = () => {\n    setOpenModal(true);\n  };\n\n  const handleCloseModal = () => {\n    setOpenModal(false);\n  };\n\n  var Routes = [[\"Alger\", \"Oran\", 23], [\"Allahabad\", \"Lucknow\", 6], [\"Lucknow\", \"Allahabad\", 5], [\"Lucknow\", \"Delhi\", 4]];\n  const history = useHistory();\n  const [departure, setDeparture] = React.useState(\"\");\n  const [arrival, setArrival] = React.useState(\"\");\n  const [date, setDate] = React.useState(\"\");\n  const [filteredSources, setFilteredSources] = React.useState([]);\n  const [filteredDestinations, setFilteredDestinations] = React.useState([]);\n  const [displayDepartureDropdown, setDisplayDepartureDropdown] = React.useState(false);\n  const [displayArrivalDropdown, setDisplayArrivalDropdown] = React.useState(false);\n  const dispatch = useDispatch();\n  React.useEffect(() => {\n    dispatch(getRoutes());\n  }, [dispatch]);\n  const routes = useSelector(state => state.routesReducer.routes);\n  console.log(\"Routes are:\", routes);\n\n  const onDepartureChange = e => {\n    let value = e.target.value;\n    setDeparture(value);\n\n    if (routes) {\n      let allSources = [];\n      routes.forEach(route => {\n        allSources.push(route.departureLocation.name);\n        allSources = [...allSources, route.departureLocation.name, ...route.departureLocation.subLocations];\n      });\n      allSources = Array.from(new Set(allSources));\n      let filteredSources = allSources.filter(source => source.toLowerCase().includes(value.toLowerCase())); // console.log(\"Can search: \", routes.length, filteredSources);\n\n      if (filteredSources.length > 0 && value) {\n        console.log(\"hey true\");\n        setFilteredSources(filteredSources);\n        setDisplayDepartureDropdown(true);\n      } else {\n        setDisplayDepartureDropdown(false);\n      }\n    }\n  };\n\n  const onArrivalChange = e => {\n    let value = e.target.value;\n    setArrival(value);\n\n    if (routes) {\n      let allDestinations = [];\n      routes.forEach(route => {\n        allDestinations.push(route.arrivalLocation.name);\n        allDestinations = [...allDestinations, route.arrivalLocation.name, ...route.arrivalLocation.subLocations];\n      });\n      allDestinations = Array.from(new Set(allDestinations));\n      let filteredDestinations = allDestinations.filter(source => source.toLowerCase().includes(value.toLowerCase()));\n\n      if (filteredDestinations.length > 0 && value) {\n        setFilteredDestinations(filteredDestinations);\n        setDisplayArrivalDropdown(true);\n      } else {\n        setDisplayArrivalDropdown(false);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.LandingPage__mainBanner,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.LandingPage__form,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.LandingPage__form__departure,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.LandingPage__form__departure__input,\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Source\",\n              value: departure,\n              onChange: onDepartureChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this), displayDepartureDropdown ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.LandingPage__form__departure__dropdown,\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: filteredSources.map(source => /*#__PURE__*/_jsxDEV(\"li\", {\n                onClick: () => {\n                  setDeparture(source);\n                  setDisplayDepartureDropdown(false);\n                },\n                children: source\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.LandingPage__form__arrival,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.LandingPage__form__arrival__input,\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Destination\",\n              value: arrival,\n              onChange: onArrivalChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), displayArrivalDropdown ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.LandingPage__form__arrival__dropdown,\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: filteredDestinations.map(destination => /*#__PURE__*/_jsxDEV(\"li\", {\n                onClick: () => {\n                  setArrival(destination);\n                  setDisplayArrivalDropdown(false);\n                },\n                children: destination\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.LandingPage__form__date,\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            placeholder: \"Date\",\n            value: date,\n            onChange: e => {\n              setDate(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.LandingPage__form__button,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              let departureTemp = departure;\n              let arrivalTemp = arrival;\n\n              if (departureTemp.includes(\"(\")) {\n                departureTemp = departureTemp.substring(departureTemp.indexOf(\"(\") + 1, departureTemp.indexOf(\")\"));\n              }\n\n              if (arrivalTemp.includes(\"(\")) {\n                arrivalTemp = arrivalTemp.substring(arrivalTemp.indexOf(\"(\") + 1, arrivalTemp.indexOf(\")\"));\n              }\n\n              var result = false;\n\n              for (var i = 0; i < Routes.length; i++) {\n                if (Routes[i][0] == departureTemp && Routes[i][1] == arrivalTemp) {\n                  result = true;\n                }\n              }\n\n              if (result == false) {\n                handleOpenModal();\n              } else {\n                history.push(`/select-bus?departure=${departureTemp}&arrival=${arrivalTemp}&date=${date}`);\n              }\n            },\n            children: \"Search Bus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Modal, {\n        \"aria-labelledby\": \"transition-modal-title\",\n        \"aria-describedby\": \"transition-modal-description\",\n        className: classes.modal,\n        open: openModal,\n        onClose: handleCloseModal,\n        closeAfterTransition: true,\n        BackdropComponent: Backdrop,\n        BackdropProps: {\n          timeout: 500\n        },\n        children: /*#__PURE__*/_jsxDEV(Fade, {\n          in: openModal,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.paper,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"transition-modal-description\",\n              children: /*#__PURE__*/_jsxDEV(RoutesModal, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Coupon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Safety, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BusTracker, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Services, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Awards, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(GlobalPresence, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LandingPage, \"/5MUjXWmjyHoisSqoMWqQro1rdk=\", false, function () {\n  return [useStyles, useHistory, useDispatch, useSelector];\n});\n\n_c = LandingPage;\nexport default LandingPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"LandingPage\");","map":{"version":3,"sources":["/Users/mac/Dropbox/Mac/Downloads/redbus-master/front-end-Mybus/src/Components/LandingPage/LandingPage.jsx"],"names":["React","Services","BusTracker","Coupon","Safety","styles","useHistory","useDispatch","useSelector","getRoutes","Awards","GlobalPresence","Modal","Backdrop","Fade","makeStyles","RoutesModal","useStyles","theme","modal","display","alignItems","justifyContent","paper","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","LandingPage","classes","openModal","setOpenModal","useState","handleOpenModal","handleCloseModal","Routes","history","departure","setDeparture","arrival","setArrival","date","setDate","filteredSources","setFilteredSources","filteredDestinations","setFilteredDestinations","displayDepartureDropdown","setDisplayDepartureDropdown","displayArrivalDropdown","setDisplayArrivalDropdown","dispatch","useEffect","routes","state","routesReducer","console","log","onDepartureChange","e","value","target","allSources","forEach","route","push","departureLocation","name","subLocations","Array","from","Set","filter","source","toLowerCase","includes","length","onArrivalChange","allDestinations","arrivalLocation","LandingPage__mainBanner","LandingPage__form","LandingPage__form__departure","LandingPage__form__departure__input","LandingPage__form__departure__dropdown","map","LandingPage__form__arrival","LandingPage__form__arrival__input","LandingPage__form__arrival__dropdown","destination","LandingPage__form__date","LandingPage__form__button","departureTemp","arrivalTemp","substring","indexOf","result","i","timeout"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Services from \"./Benefits/Services\";\nimport BusTracker from \"./BusTracker/BusTracker\";\nimport Coupon from \"./CouponSection/Coupon\";\nimport Safety from \"./SafetySection/Safety\";\nimport styles from \"./LandingPage.module.css\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getRoutes } from \"../../Redux/routes/action\";\nimport Awards from \"./Awards and Recognition/Awards\";\nimport GlobalPresence from \"./Global Presence/GlobalPresence\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport RoutesModal from \"./RoutesModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nconst LandingPage = () => {\n  //modal items\n  const classes = useStyles();\n  const [openModal, setOpenModal] = React.useState(false);\n\n  const handleOpenModal = () => {\n    setOpenModal(true);\n  };\n\n  const handleCloseModal = () => {\n    setOpenModal(false);\n  };\n\n  var Routes = [\n    [\"Alger\", \"Oran\", 23],\n    [\"Allahabad\", \"Lucknow\", 6],\n    [\"Lucknow\", \"Allahabad\", 5],\n    [\"Lucknow\", \"Delhi\", 4],\n  ];\n  const history = useHistory();\n  const [departure, setDeparture] = React.useState(\"\");\n  const [arrival, setArrival] = React.useState(\"\");\n  const [date, setDate] = React.useState(\"\");\n  const [filteredSources, setFilteredSources] = React.useState([]);\n  const [filteredDestinations, setFilteredDestinations] = React.useState([]);\n  const [displayDepartureDropdown, setDisplayDepartureDropdown] =\n    React.useState(false);\n  const [displayArrivalDropdown, setDisplayArrivalDropdown] =\n    React.useState(false);\n  const dispatch = useDispatch();\n\n  React.useEffect(() => {\n    dispatch(getRoutes());\n  }, [dispatch]);\n\n  const routes = useSelector((state) => state.routesReducer.routes);\n  console.log(\"Routes are:\", routes);\n\n  const onDepartureChange = (e) => {\n    let value = e.target.value;\n    setDeparture(value);\n\n    if (routes) {\n      let allSources = [];\n      routes.forEach((route) => {\n        allSources.push(route.departureLocation.name);\n        allSources = [\n          ...allSources,\n          route.departureLocation.name,\n          ...route.departureLocation.subLocations,\n        ];\n      });\n      allSources = Array.from(new Set(allSources));\n      let filteredSources = allSources.filter((source) =>\n        source.toLowerCase().includes(value.toLowerCase())\n      );\n      // console.log(\"Can search: \", routes.length, filteredSources);\n      if (filteredSources.length > 0 && value) {\n        console.log(\"hey true\");\n        setFilteredSources(filteredSources);\n        setDisplayDepartureDropdown(true);\n      } else {\n        setDisplayDepartureDropdown(false);\n      }\n    }\n  };\n  const onArrivalChange = (e) => {\n    let value = e.target.value;\n    setArrival(value);\n    if (routes) {\n      let allDestinations = [];\n      routes.forEach((route) => {\n        allDestinations.push(route.arrivalLocation.name);\n        allDestinations = [\n          ...allDestinations,\n          route.arrivalLocation.name,\n          ...route.arrivalLocation.subLocations,\n        ];\n      });\n      allDestinations = Array.from(new Set(allDestinations));\n      let filteredDestinations = allDestinations.filter((source) =>\n        source.toLowerCase().includes(value.toLowerCase())\n      );\n\n      if (filteredDestinations.length > 0 && value) {\n        setFilteredDestinations(filteredDestinations);\n        setDisplayArrivalDropdown(true);\n      } else {\n        setDisplayArrivalDropdown(false);\n      }\n    }\n  };\n\n  return (\n    <div>\n      <div className={styles.LandingPage__mainBanner}>\n        <div className={styles.LandingPage__form}>\n          <div className={styles.LandingPage__form__departure}>\n            <div className={styles.LandingPage__form__departure__input}>\n              <input\n                type=\"text\"\n                placeholder=\"Source\"\n                value={departure}\n                onChange={onDepartureChange}\n              />\n            </div>\n            {displayDepartureDropdown ? (\n              <div className={styles.LandingPage__form__departure__dropdown}>\n                <ul>\n                  {filteredSources.map((source) => (\n                    <li\n                      onClick={() => {\n                        setDeparture(source);\n                        setDisplayDepartureDropdown(false);\n                      }}\n                    >\n                      {source}\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            ) : null}\n          </div>\n          <div className={styles.LandingPage__form__arrival}>\n            <div className={styles.LandingPage__form__arrival__input}>\n              <input\n                type=\"text\"\n                placeholder=\"Destination\"\n                value={arrival}\n                onChange={onArrivalChange}\n              />\n            </div>\n            {displayArrivalDropdown ? (\n              <div className={styles.LandingPage__form__arrival__dropdown}>\n                <ul>\n                  {filteredDestinations.map((destination) => (\n                    <li\n                      onClick={() => {\n                        setArrival(destination);\n                        setDisplayArrivalDropdown(false);\n                      }}\n                    >\n                      {destination}\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            ) : null}\n          </div>\n          <div className={styles.LandingPage__form__date}>\n            <input\n              type=\"date\"\n              placeholder=\"Date\"\n              value={date}\n              onChange={(e) => {\n                setDate(e.target.value);\n              }}\n            />\n          </div>\n          <div className={styles.LandingPage__form__button}>\n            <button\n              onClick={() => {\n                let departureTemp = departure;\n                let arrivalTemp = arrival;\n\n                if (departureTemp.includes(\"(\")) {\n                  departureTemp = departureTemp.substring(\n                    departureTemp.indexOf(\"(\") + 1,\n                    departureTemp.indexOf(\")\")\n                  );\n                }\n                if (arrivalTemp.includes(\"(\")) {\n                  arrivalTemp = arrivalTemp.substring(\n                    arrivalTemp.indexOf(\"(\") + 1,\n                    arrivalTemp.indexOf(\")\")\n                  );\n                }\n\n                var result = false;\n                for (var i = 0; i < Routes.length; i++) {\n                  if (\n                    Routes[i][0] == departureTemp &&\n                    Routes[i][1] == arrivalTemp\n                  ) {\n                    result = true;\n                  }\n                }\n                if (result == false) {\n                  handleOpenModal();\n                } else {\n                  history.push(\n                    `/select-bus?departure=${departureTemp}&arrival=${arrivalTemp}&date=${date}`\n                  );\n                }\n              }}\n            >\n              Search Bus\n            </button>\n          </div>\n        </div>\n      </div>\n      <div>\n        <Modal\n          aria-labelledby=\"transition-modal-title\"\n          aria-describedby=\"transition-modal-description\"\n          className={classes.modal}\n          open={openModal}\n          onClose={handleCloseModal}\n          closeAfterTransition\n          BackdropComponent={Backdrop}\n          BackdropProps={{\n            timeout: 500,\n          }}\n        >\n          <Fade in={openModal}>\n            <div className={classes.paper}>\n              <p id=\"transition-modal-description\">\n                <RoutesModal />\n              </p>\n            </div>\n          </Fade>\n        </Modal>\n      </div>\n      <Coupon />\n      <Safety />\n      <BusTracker />\n      <Services />\n      <Awards />\n      {/* <Awards /> */}\n      <GlobalPresence />\n    </div>\n  );\n};\n\nexport default LandingPage;\n"]},"metadata":{},"sourceType":"module"}