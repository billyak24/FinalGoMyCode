{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Dropbox/Mac/Downloads/redbus-master/front-end-Mybus/src/Components/Profile Page/HiredBuses.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport styles from \"./HiredBuses.module.css\";\nimport SingleHiredBus from \"./SingleHiredBus\";\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst HiredBuses = () => {\n  _s();\n\n  const [allBookingsHire, setAllBookingsHire] = React.useState([]);\n  const currentCustomer = useSelector(state => state.authReducer.currentCustomer);\n  React.useEffect(() => {\n    if (currentCustomer) {\n      let email = currentCustomer.email;\n      console.log(\"current customer email: \", email);\n      fetchData(email);\n    }\n  }, [currentCustomer]);\n\n  async function fetchData(email) {\n    let res = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/v1/api/bookingHire/${email}`);\n    console.log(\"all bookings hire of this customer: \", res.data);\n    setAllBookingsHire(res.data);\n  }\n\n  const renderHiredBookings = () => {\n    console.log(\"All Hired bookings: \", allBookingsHire);\n\n    if (allBookingsHire.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"No Hired Bus Bookings Found!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 14\n      }, this);\n    }\n\n    return allBookingsHire.reverse().map(booking => /*#__PURE__*/_jsxDEV(SingleHiredBus, {\n      booking: booking\n    }, uuidv4(), false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 25\n    }, this));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.HiredBuses,\n    children: renderHiredBookings()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 10\n  }, this);\n};\n\n_s(HiredBuses, \"tY89KZV82X94YCk+HwqlUZn/MI4=\", false, function () {\n  return [useSelector];\n});\n\n_c = HiredBuses;\nexport default HiredBuses;\n\nvar _c;\n\n$RefreshReg$(_c, \"HiredBuses\");","map":{"version":3,"sources":["/Users/mac/Dropbox/Mac/Downloads/redbus-master/front-end-Mybus/src/Components/Profile Page/HiredBuses.jsx"],"names":["React","styles","SingleHiredBus","axios","useSelector","v4","uuidv4","HiredBuses","allBookingsHire","setAllBookingsHire","useState","currentCustomer","state","authReducer","useEffect","email","console","log","fetchData","res","get","process","env","REACT_APP_BACKEND_URL","data","renderHiredBookings","length","reverse","map","booking"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,EAAE,IAAIC,MAAf,QAA6B,MAA7B;;;AACA,MAAMC,UAAU,GAAG,MAAM;AAAA;;AACvB,QAAM,CAACC,eAAD,EAAkBC,kBAAlB,IAAwCT,KAAK,CAACU,QAAN,CAAe,EAAf,CAA9C;AAEA,QAAMC,eAAe,GAAGP,WAAW,CAChCQ,KAAD,IAAWA,KAAK,CAACC,WAAN,CAAkBF,eADI,CAAnC;AAGAX,EAAAA,KAAK,CAACc,SAAN,CAAgB,MAAM;AACpB,QAAIH,eAAJ,EAAqB;AACnB,UAAII,KAAK,GAAGJ,eAAe,CAACI,KAA5B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCF,KAAxC;AACAG,MAAAA,SAAS,CAACH,KAAD,CAAT;AACD;AACF,GAND,EAMG,CAACJ,eAAD,CANH;;AAQA,iBAAeO,SAAf,CAAyBH,KAAzB,EAAgC;AAC9B,QAAII,GAAG,GAAG,MAAMhB,KAAK,CAACiB,GAAN,CACb,GAAEC,OAAO,CAACC,GAAR,CAAYC,qBAAsB,uBAAsBR,KAAM,EADnD,CAAhB;AAGAC,IAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ,EAAoDE,GAAG,CAACK,IAAxD;AACAf,IAAAA,kBAAkB,CAACU,GAAG,CAACK,IAAL,CAAlB;AACD;;AAED,QAAMC,mBAAmB,GAAG,MAAM;AAChCT,IAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCT,eAApC;;AACA,QAAIA,eAAe,CAACkB,MAAhB,KAA2B,CAA/B,EAAkC;AAChC,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACD;;AACD,WAAOlB,eAAe,CACnBmB,OADI,GAEJC,GAFI,CAECC,OAAD,iBAAa,QAAC,cAAD;AAA+B,MAAA,OAAO,EAAEA;AAAxC,OAAqBvB,MAAM,EAA3B;AAAA;AAAA;AAAA;AAAA,YAFb,CAAP;AAGD,GARD;;AASA,sBAAO;AAAK,IAAA,SAAS,EAAEL,MAAM,CAACM,UAAvB;AAAA,cAAoCkB,mBAAmB;AAAvD;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CAhCD;;GAAMlB,U;UAGoBH,W;;;KAHpBG,U;AAkCN,eAAeA,UAAf","sourcesContent":["import React from \"react\";\nimport styles from \"./HiredBuses.module.css\";\nimport SingleHiredBus from \"./SingleHiredBus\";\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport { v4 as uuidv4 } from \"uuid\";\nconst HiredBuses = () => {\n  const [allBookingsHire, setAllBookingsHire] = React.useState([]);\n\n  const currentCustomer = useSelector(\n    (state) => state.authReducer.currentCustomer\n  );\n  React.useEffect(() => {\n    if (currentCustomer) {\n      let email = currentCustomer.email;\n      console.log(\"current customer email: \", email);\n      fetchData(email);\n    }\n  }, [currentCustomer]);\n\n  async function fetchData(email) {\n    let res = await axios.get(\n      `${process.env.REACT_APP_BACKEND_URL}/v1/api/bookingHire/${email}`\n    );\n    console.log(\"all bookings hire of this customer: \", res.data);\n    setAllBookingsHire(res.data);\n  }\n\n  const renderHiredBookings = () => {\n    console.log(\"All Hired bookings: \", allBookingsHire);\n    if (allBookingsHire.length === 0) {\n      return <h1>No Hired Bus Bookings Found!</h1>;\n    }\n    return allBookingsHire\n      .reverse()\n      .map((booking) => <SingleHiredBus key={uuidv4()} booking={booking} />);\n  };\n  return <div className={styles.HiredBuses}>{renderHiredBookings()}</div>;\n};\n\nexport default HiredBuses;\n"]},"metadata":{},"sourceType":"module"}